<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <table>
        <tr>
            <th>NO</th>
            <th>제목</th>
            <th>내용</th>
        </tr>
    </table>
    <table>
        <!-- <tr></tr> -->
    </table>
    <div style="border:0.3px solid rgb(196, 194, 194); width:60vw; margin:5vw auto;"></div>
    <br>
    <div style="width:60vw; margin: 0 auto;">
        <label>제목</label><input type="text" id="title" name="title" style="height:30px; width:10vw;" onkeypress="keyEvent()" onkeyup="keyEvent()">
        <div id="result"></div>
        <br><label>내용</label><br><input type="text" id="desc" style="height:70px; width:20vw;"><button class="register" onclick="register()">입력</button>
    </div>
</body>
</html>
<style>
 table {
    margin:0 auto;
    width:60vw;
    border:1px solid black;
 }
th {
    border-right:1px solid black; 
}
 tr {
    width:100%;
    height:40px;
 }

 td  {
    border:1px solid black;
 }
</style>
<script type="text/javascript">
    
let table = document.getElementsByTagName("table");
let index = 0;

class Element{
    constructor(){
    
    // alert(table[1].insertRow());
    // alert(index+ "," +count);
    }
}

class savesession{
    constructor(no, title, desc){
        this.key = ["no","title","desc"];
        this.no = no;
        this.title = title;
        this.desc = desc;
        this.value = [this.no,this.title,this.desc];
    }    
    // push(no,title,desc) {
    //     let arrValue = [];
    //     let key = ["no","title","desc"];
    //     for(let i = 0; i < key.length; i += 1){
    //         arrValue.push(key[0],this.no);
    //         arrValue.push(key[1],this.title);
    //         arrValue.push(key[2],this.desc);
    //     }
    //     // console.log("ASFD", arrValue);
    // }
}
function keyEvent() {
    const title = document.getElementById("title").value;
    document.getElementById("result").innerText = title;
    // input[0].addEventListener("keypress",() => {
    //     alert(input);
    // });
}

// function output() {
//      const title = document.getElementById("title").value;
//     document.getElementById("result").innerText = title;
// }
let number = 0;

let session = [];

function register(){
    const title = document.getElementById("title").value;
    const desc = document.getElementById("desc").value;
    table = document.getElementsByTagName("table");
    // tr = new Element();
    // alert(index);
    number++;
    let tr = table[1].insertRow();
    

    //session
    session = new savesession(number, title, desc);
    //session.push(number, title, desc);
    for(let i = 0; i < session.key.length; i++) {
        let result = window.localStorage.setItem(session.key[i], session.value[i]);
    }
    tr.append(result); 
    alert(result);
    
}
</script>